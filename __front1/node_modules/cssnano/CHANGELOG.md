# 4.1.10

## Bug Fixes

* `stylehacks` does not throw error on `[attr]` selector

# 4.1.9

## Performance Improvements

* `postcss-colormin`: increase performance
* `postcss-discard-comments`: increase performance
* `postcss-merge-rules` increase performance
* `postcss-minify-params` increase performance
* `postcss-minify-selectors`: increase performance
* `postcss-normalize-display-values`: increase performance 
* `postcss-normalize-positions`: increase performance
* `postcss-normalize-repeat-style`: increase performance
* `postcss-normalize-string`: increase performance
* `postcss-normalize-timing-functions`: increase performance
* `postcss-normalize-whitespace`: increase performance
* `postcss-ordered-values`: increase performance
* `postcss-reduce-transforms`: increase performance
* `postcss-svgo`: increase performance

## Bug Fixes

* `postcss-merge-longhand` handle uppercase properties and values
* `postcss-minify-gradients` handle uppercase properties and values
* `postcss-minify-params` do break `@page` rules
* `postcss-reduce-idents` handle uppercase at-rules
* `postcss-reduce-initial` now uses `repeat` as initial value for `mask-repeat`
* `postcss-reduce-initial` handle uppercase value when you convert to initial
* `stylehacks` handle uppercase properties and values

# 4.1.8

## Performance Improvements

* initial loading time (`require('cssnano')`).

## Bug Fixes

* `postcss-merge-longhand` correctly merging border properties with custom properties.

# 4.1.7

## Bug Fixes

* republish `cssnano` due broken release.

# 4.1.6

## Bug Fixes

* `postcss-merge-longhand` doesn't throw error when merge a border property.

# 4.1.5

## Bug Fixes

* `cssnano` now allow to toggling of plugins in presets using boolean configuration option.
* `postcss-merge-longhand` doesn't merge properties with `unset`.
* `postcss-merge-longhand` correctly merge borders with custom properties.
* `postcss-merge-longhand` doesn't merge redundant values if declarations are of different importance.

## Other changes

* `postcss-calc` updated to `7.0.0` version.

# 4.1.4

## Other changes

* `css-declaration-sorter` now use PostCSS 7.
* `postcss-calc` now use PostCSS 7.

# 4.1.3

## Other changes

* `postcss-minify-font-values` now use PostCSS 7.
* `postcss-discard-duplicates` now use PostCSS 7.

# 4.1.2

## Bug Fixes

* `postcss-svgo` now handle DataURI with uppercase `data` value (`DATA:image/*;...`).

# 4.1.1

## Bug Fixes

* `css-declaration-sorter` was removed from default prevent.
* `postcss-normalize-timing-functions` doesn't lowercased property anymore.
* `postcss-normalize-positons` now handles uppercase properties.
* `postcss-normalize-url` now is case-insensitive.
* `postcss-merge-idents` now is case-insensitive.
* `postcss-merge-rules` now is case-insensitive.
* `postcss-minify-selectors` now is case-insensitive.
* `postcss-minify-font-values` now is case-insensitive.
* `postcss-normalize-unicode` now has correct dependencies.
* `postcss-minify-params` now has correct dependencies.

## Other changes

* `cssnano-preset-advanced` use Autoprefixer 9.
* use PostCSS 7 in all plugins.

# 4.1.0

## Bug Fixes

* `postcss-merge-longhand` doesn't mangle borders.

## Features

* `postcss-ordered-values` support ordering animation values.

# 4.0.5

## Bug Fixes

* `postcss-merge-longhand` now correctly merges borders with custom properties.
* `postcss-merge-longhand` doesn't throw error in some `border` merge cases.

# 4.0.4

## Bug Fixes

* `postcss-merge-longhand` doesn't drop border-width with custom property from border shorthand.
* `postcss-merge-longhand` doesn't convert `currentColor`.
* `postcss-merge-longhand` doesn't merge border properties if there is a shorthand property between them.

# 4.0.3

## Bug Fixes

* `postcss-merge-longhand` incorrect minification of `border` (`border-*`) declarations.

# 4.0.2

## Bug Fixes

* `postcss-merge-longhand` don't explode declarations with custom properties.
* `postcss-colormin` now better transform to `hsl`.

# 4.0.1

## Bug Fixes

* `browserslist` version incompatibility with `caniuse-api`.

# 4.0.0

## Breaking changes

* We dropped support for Node 4, now requiring at least Node 6.9.

## Features

* postcss-merge-longhand now optimises `border-spacing` property.

## Bug Fixes

* postcss-normalize-unicode doesn't change `U` to lowercase for `IE` <= 11 and `Edge` <= 15.
* postcss-merge-longhand works with custom properties (Example `a { border-style:dotted; border-style:var(--variable) }`) correctly.
* postcss-ordered-values handle `border` property with invalid border width value correctly.
* postcss-merge-rules handles `:-ms-input-placeholder` and `::-ms-input-placeholder` selectors correctly.
* postcss-merge-rules works with `all` property correctly.
* postcss-normalize-url don't handle empty `url` function.
* postcss-normalize-url handles `data` and `*-extension://` URLs correctly.
* postcss-colormin adds whitespace after minified value and before function.
* postcss-minify-font-values better escapes font name.
* postcss-minify-params doesn't remove `all` for IE.

## Other changes

* update all dependencies to latest.
* better handles uppercase selectors/properties/values/units.

# 4.0.0-rc.2

## Features

* Includes the new release candidate for postcss-selector-parser 3.
* Refactors comments tokenizing in postcss-discard-comments to be more
  memory efficient.
* Adds css-declaration-sorter for improved gzip compression efficiencies
  (thanks to @Siilwyn).
* postcss-svgo now optimises base 64 encoded SVG where possible
  (thanks to @evilebottnawi).
* stylehacks now supports `@media \0screen\,screen\9 {}` hacks
  (thanks to @evilebottnawi).

## Bug Fixes

* Fixed handling of package.json configuration (thanks to @andyjansson).
* Fixed `resolveConfig` for a `Root` node without a `source` property
  (thanks to @darthmaim).
* Improved radial gradient handling (thanks to @pigcan).
* stylehacks now properly accounts for vendor prefixes
  (thanks to @evilebottnawi).

# 4.0.0-rc.1

## Bug Fixes

* cssnano: Resolved an issue with external configuration which wasn't
  being loaded correctly (thanks to @andyjansson).
* postcss-minify-params: Resolved an issue with cssnano's handling of the
  `@value` syntax from css-modules to better integrate with css-loader.

# 4.0.0-rc.0

Since version 4 has been in-development for some time, we thought it would be
best to release an alpha version so that we could catch any issues before
the actual release.

## Breaking changes

* cssnano & its plugins have been upgraded to PostCSS 6.x. Please ensure that
  for optimal results that you use cssnano with a PostCSS 6 compatible runner
  & that any other plugins are also using PostCSS 6.
* cssnano is now essentially a preset loader and does not contain any built-in
  transforms (instead, it delegates to `cssnano-preset-default` by default).
  Due to the new architecture, it's not possible to exclude asynchronous
  transforms and run it synchronously, unlike in 3.x. Any transforms that
  were "core" modules have now been extracted out into separate packages.
* Because of the new preset system, cssnano will not accept any transformation
  options; these must be set in the preset. The option names remain mostly the
  same, except some cases where "core" modules have been extracted out:

  * `core` is now `normalizeWhitespace`.
  * `reduceBackgroundRepeat` is now `normalizeRepeatStyle`.
  * `reduceDisplayValues` is now `normalizeDisplayValues`.
  * `reducePositions` is now `normalizePositions`.
  * `reduceTimingFunctions` is now `normalizeTimingFunctions`.
  * `styleCache` is now `rawCache`.

  When excluding transforms, we now have an `exclude` option (in 3.x this was
  named `disable`). Similarly, the `safe` option was removed; the defaults
  are now much less aggressive.
* By default, the following transforms are no longer applied to any input CSS.
  You may see an increased output file size as a result:

  * `autoprefixer`
  * `postcss-discard-unused`
  * `postcss-merge-idents`
  * `postcss-reduce-idents`
  * `postcss-zindex`

  Note that you can load `cssnano-preset-advanced` instead which *does* contain
  these transforms.
* We no longer detect previous plugins to silently exclude our own, and now
  consider this to be an anti-pattern. So `postcss-filter-plugins` was removed.
* We also changed some options to make the default transforms safer:

  * `postcss-minify-font-values`: `removeAfterKeyword` set to `false` from `true`.
  * `postcss-normalize-url`: `stripWWW` set to `false` from `true`.

* cssnano now does not accept the `sourcemap` shortcut option; please refer
  to the PostCSS documentation on sourcemaps. The `quickstart.js` file included
  with this module will give you a good starting point.
* `cssnano.process` is no longer a custom method; we use the built-in `process`
  method exposed on each PostCSS plugin. The new signature is
  `cssnano.process(css, postcssOpts, cssnanoOpts)`, in 3.x it was
  `cssnano.process(css, cssnanoOpts)`.
* We dropped support for Node 0.12, now requiring at least Node 4.
* Finally, cssnano is now developed as a monorepo, due to the fact that some
  transforms have a lot of grey area/overlap. Due to this, some modules have
  been refactored to delegate responsibility to others, such that duplication
  of functionality is minimized. For instance, `postcss-colormin` will no
  longer compress whitespace or compress numbers, as those are handled by
  `postcss-normalize-whitespace` & `postcss-convert-values` respectively.

## Other changes

* Due to the PostCSS 6 upgrade, we have been able to reduce usage of custom
  methods, such as node `clone` behaviour. In cases where some utility
  has been used by several plugins it is now a separate package, reducing
  cssnano's footprint.
* cssnano now makes much better use of Browserslist. `postcss-colormin` &
  `postcss-reduce-initial` were enhanced with different behaviour depending
  on which browsers are passed. And now, the footprint for the `caniuse-db`
  dependency is much smaller thanks to `caniuse-lite` - 7 times smaller as
  of this writing. This makes cssnano much faster to download from npm!

# 3.10.0

* cssnano will no longer `console.warn` any messages when using deprecated
  options; these are now sent to PostCSS. You will be able to see them if you
  use a PostCSS runner with built-in messages support, or alternately by
  loading `postcss-reporter` or `postcss-browser-reporter` in your plugins list.
* Prepares support for `grid` identifier reduction by adding it to the list
  of optimisations turned off when `options.safe` is set to `true`.
* Adds support for normalizing `unicode-range` descriptors. Values will
  be converted when the code matches `0` & `f` in the same place on both sides
  of the range. So, `u+2000-2fff` can be converted to `u+2???`, but
  `u+2100-2fff` will be left as it is.

# 3.9.1

* Resolves an integration issue with `v3.9.0`, where `undefined` values
  would attempt to be parsed.

# 3.9.0

* Adds a new option to normalize wrapping quotes for strings & joining
  multiple-line strings into a single line. This optimisation can potentially
  reduce the final gzipped size of your CSS file.

# 3.8.2

* Resolves an issue where `display: list-item inline flow` would be normalized
  to `inline list-item` rather than `inline-list-item` (thanks to @mattbasta).

# 3.8.1

* Adds a quick start file for easy integration with Runkit. Try cssnano online
  at https://runkit.com/npm/cssnano.

# 3.8.0

* Adds support for normalizing multiple values for the `display` property. For
  example `block flow` can be simplified to `block`.

# 3.7.7

* Further improves CSS mixin handling; semicolons will no longer be stripped
  from *rules* as well as declarations.

# 3.7.6

* Resolves an issue where the semicolon was being incorrectly stripped
  from CSS mixins.

# 3.7.5

* Resolves an issue where the `safe` flag was not being persisted across
  multiple files (thanks to @techmatt101).

# 3.7.4

* Improves performance of the reducePositions transform by testing
  against `hasOwnProperty` instead of using an array of object keys.
* Removes the redundant `indexes-of` dependency.

# 3.7.3

* Unpins postcss-filter-plugins from `2.0.0` as a fix has landed in the new
  version of uniqid.

# 3.7.2

* Temporarily pins postcss-filter-plugins to version `2.0.0` in order to
  mitigate an issue with uniqid `3.0.0`.

# 3.7.1

* Enabling safe mode now turns off both postcss-merge-idents &
  postcss-normalize-url's `stripWWW` option.

# 3.7.0

* Added: Reduce `background-repeat` definitions; works with both this property
  & the `background` shorthand, and aims to compress the extended two value
  syntax into the single value syntax.
* Added: Reduce `initial` values for properties when the *actual* initial value
  is shorter; for example, `min-width: initial` becomes `min-width: 0`.

# 3.6.2

* Fixed an issue where cssnano would crash on `steps(1)`.

# 3.6.1

* Fixed an issue where cssnano would crash on `steps` functions with a
  single argument.

# 3.6.0

* Added `postcss-discard-overridden` to safely discard overridden rules with
  the same identifier (thanks to @Justineo).
* Added: Reduce animation/transition timing functions. Detects `cubic-bezier`
  functions that are equivalent to the timing keywords and compresses, as well
  as normalizing the `steps` timing function.
* Added the `perspective-origin` property to the list of supported properties
  transformed by the `reduce-positions` transform.

# 3.5.2

* Resolves an issue where the 3 or 4 value syntax for `background-position`
  were being incorrectly converted.

# 3.5.1

* Improves checking for `background-position` values in the `background`
  shorthand property.

# 3.5.0

* Adds a new optimisation path which can mini